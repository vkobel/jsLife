<!DOCTYPE html>
<html>
<head>
  <title>PixelTuring</title>

  <link rel="stylesheet" type="text/css" href="style.css" />
  <link rel="stylesheet" type="text/css" href="jquery.terminal.css" />
  <script src="jquery-2.1.0.min.js"></script>
  <script src="jquery.terminal-0.7.12.min.js"></script>
  <script src="life.js"></script>
</head>
<body>

<canvas id="screen" width="1000" height="700"></canvas>

<div id="term"></div>

<script type="text/javascript">
/*
    $('#term').terminal(function(command, term) {
      if (command !== '') {
        
        // cmd handling

      }
    }, {
      greetings: 'Pixel Turing v0.1',
      height: 195,
      prompt: '> '});
    */
    
/*
  window.requestAnimFrame = (function(){
    return  function( callback ){
              window.setTimeout(callback, 1);
            };
  })();

  function drawPixel(size, color){

    var imageData = ctx.createImageData(size.x, size.y);
    for(var i = 0; i < size.x*size.y; i++){
      imageData.data[i * 4 + 0] = color.r;
      imageData.data[i * 4 + 1] = color.g;
      imageData.data[i * 4 + 2] = color.b;
      imageData.data[i * 4 + 3] = color.a;
    }

    ctx.putImageData(imageData, x, y);
    
    // Cyclic 
    x += size.x;
    if(x >= width){
      x = 0;
      y += size.y;
    }

    if(y >= height){
      x=0;
      y=0;
    }
    
    // Random 
    
    var randIndex = Math.floor(Math.random() * positions.length);
    var pos = positions[randIndex]
    ctx.putImageData(imageData, pos.x, pos.y);


  }

  function render(size){

    drawPixel(size, genColor());
  }

  $(function(){
    
    // Canvas
    var c = document.getElementById("screen");
    ctx = c.getContext("2d");

    width = c.width;
    height = c.height;

    var size = {x: 5, y: 5};

    // build position array
    positions = [];
    for(var i=0; i < width; i += size.x){
      for(var j=0; j < height; j += size.y){
        positions.push({x: i, y: j});
      }
    }

    // determine base color
    baseColor = genColor();

    x = 0;
    y = 0;
    (function anim(){
      requestAnimFrame(anim);
      render(size);
    })();

  });

  function genColor(){
    var r = Math.random() * 185 | 0;
    var g = Math.random() * 200 | 0;
    var b = Math.random() * 255 | 0;
    return {r: r, g: g, b: b, a: 255};
  }
*/

</script>

</body>
</html>